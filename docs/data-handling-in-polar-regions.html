<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Data handling in polar regions | Challenges working with data in polar regions</title>
  <meta name="description" content="Problems with data in polar regions, especially for mapping." />
  <meta name="generator" content="bookdown 0.13 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Data handling in polar regions | Challenges working with data in polar regions" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Problems with data in polar regions, especially for mapping." />
  <meta name="github-repo" content="mdsumner/polar-mapping-oghub" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Data handling in polar regions | Challenges working with data in polar regions" />
  
  <meta name="twitter:description" content="Problems with data in polar regions, especially for mapping." />
  

<meta name="author" content="Michael Sumner" />


<meta name="date" content="2019-08-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="polar-maps.html"/>
<link rel="next" href="somap.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Polar Mapping in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About this</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#description-and-objectives"><i class="fa fa-check"></i><b>1.1</b> Description and objectives</a><ul>
<li class="chapter" data-level="1.1.1" data-path="index.html"><a href="index.html#references"><i class="fa fa-check"></i><b>1.1.1</b> References</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="setup.html"><a href="setup.html"><i class="fa fa-check"></i><b>2</b> Getting Set Up</a><ul>
<li class="chapter" data-level="2.1" data-path="setup.html"><a href="setup.html#data-sets"><i class="fa fa-check"></i><b>2.1</b> Data sets</a></li>
<li class="chapter" data-level="2.2" data-path="setup.html"><a href="setup.html#alternative-1"><i class="fa fa-check"></i><b>2.2</b> Alternative 1</a></li>
<li class="chapter" data-level="2.3" data-path="setup.html"><a href="setup.html#alternative-2"><i class="fa fa-check"></i><b>2.3</b> Alternative 2</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="polar-maps.html"><a href="polar-maps.html"><i class="fa fa-check"></i><b>3</b> Polar maps</a><ul>
<li class="chapter" data-level="3.1" data-path="polar-maps.html"><a href="polar-maps.html#projections"><i class="fa fa-check"></i><b>3.1</b> Projections</a></li>
<li class="chapter" data-level="3.2" data-path="polar-maps.html"><a href="polar-maps.html#mapping-in-r"><i class="fa fa-check"></i><b>3.2</b> Mapping in R</a></li>
<li class="chapter" data-level="3.3" data-path="polar-maps.html"><a href="polar-maps.html#exercise-1"><i class="fa fa-check"></i><b>3.3</b> Exercise 1</a></li>
<li class="chapter" data-level="3.4" data-path="polar-maps.html"><a href="polar-maps.html#exercise-2"><i class="fa fa-check"></i><b>3.4</b> Exercise 2</a></li>
<li class="chapter" data-level="3.5" data-path="polar-maps.html"><a href="polar-maps.html#polygon-catastrophe"><i class="fa fa-check"></i><b>3.5</b> Polygon catastrophe</a></li>
<li class="chapter" data-level="3.6" data-path="polar-maps.html"><a href="polar-maps.html#exercise-3"><i class="fa fa-check"></i><b>3.6</b> Exercise 3</a></li>
<li class="chapter" data-level="3.7" data-path="polar-maps.html"><a href="polar-maps.html#lets-use-the-maps-data"><i class="fa fa-check"></i><b>3.7</b> Let’s use the maps data!</a></li>
<li class="chapter" data-level="3.8" data-path="polar-maps.html"><a href="polar-maps.html#reprojecting-to-polar-regions"><i class="fa fa-check"></i><b>3.8</b> Reprojecting to polar regions</a></li>
<li class="chapter" data-level="3.9" data-path="polar-maps.html"><a href="polar-maps.html#demonstration-of-the-projection-concept"><i class="fa fa-check"></i><b>3.9</b> Demonstration of the projection concept</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-handling-in-polar-regions.html"><a href="data-handling-in-polar-regions.html"><i class="fa fa-check"></i><b>4</b> Data handling in polar regions</a><ul>
<li class="chapter" data-level="4.1" data-path="data-handling-in-polar-regions.html"><a href="data-handling-in-polar-regions.html#overlay-between-different-projections"><i class="fa fa-check"></i><b>4.1</b> Overlay between different projections</a></li>
<li class="chapter" data-level="4.2" data-path="data-handling-in-polar-regions.html"><a href="data-handling-in-polar-regions.html#build-an-index-betweeen-the-raw-raster-data-and-the-polar-map-regions"><i class="fa fa-check"></i><b>4.2</b> Build an index betweeen the raw raster data and the polar map regions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="somap.html"><a href="somap.html"><i class="fa fa-check"></i><b>5</b> SOmap</a><ul>
<li class="chapter" data-level="5.1" data-path="somap.html"><a href="somap.html#installation"><i class="fa fa-check"></i><b>5.1</b> Installation</a></li>
<li class="chapter" data-level="5.2" data-path="somap.html"><a href="somap.html#circumpolar-maps"><i class="fa fa-check"></i><b>5.2</b> Circumpolar maps</a></li>
<li class="chapter" data-level="5.3" data-path="somap.html"><a href="somap.html#adding-points"><i class="fa fa-check"></i><b>5.3</b> Adding points</a><ul>
<li class="chapter" data-level="5.3.1" data-path="somap.html"><a href="somap.html#exercise-1-1"><i class="fa fa-check"></i><b>5.3.1</b> Exercise 1</a></li>
<li class="chapter" data-level="5.3.2" data-path="somap.html"><a href="somap.html#answer---exercise-1"><i class="fa fa-check"></i><b>5.3.2</b> ANSWER - Exercise 1</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/mdsumner/polar-mapping-oghub" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Challenges working with data in polar regions</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-handling-in-polar-regions" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Data handling in polar regions</h1>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="kw">load</span>(<span class="st">&quot;polar-mapping.Rdata&quot;</span>)  <span class="co">## see getting-set-up</span></a>
<a class="sourceLine" id="cb60-2" data-line-number="2"><span class="kw">library</span>(dplyr)</a></code></pre></div>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:raster&#39;:
## 
##     intersect, select, union</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<p>In practice, these kinds of problems in polar data mean that careful choices be made. For an involved whole-ecosystem assessment publication we generated a partition of the marine region of the Southern Ocean.</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb65-1" data-line-number="1"><span class="kw">plot</span>(aes_zone, <span class="dt">col =</span> aes_zone<span class="op">$</span>colour)</a>
<a class="sourceLine" id="cb65-2" data-line-number="2"><span class="kw">abline</span>(<span class="dt">v =</span> <span class="dv">0</span>, <span class="dt">lty =</span> <span class="dv">2</span>)</a></code></pre></div>
<p><img src="polar-mapping_files/figure-html/ace-ecostats-1.png" width="672" /></p>
<p>This was easy for mapping sea ice concentration, we have daily remote sensing maps of southern ocean sea ice and it’s trivial to reproject our polygons onto those.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" data-line-number="1"><span class="kw">library</span>(raster)</a>
<a class="sourceLine" id="cb66-2" data-line-number="2"><span class="kw">plot</span>(sea_ice)</a>
<a class="sourceLine" id="cb66-3" data-line-number="3"><span class="kw">plot</span>(<span class="kw">spTransform</span>(aes_zone, raster<span class="op">::</span><span class="kw">projection</span>(sea_ice)), <span class="dt">add =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p><img src="polar-mapping_files/figure-html/example-ice-1.png" width="672" /></p>
<p>But when it comes to sea surface temperature, these data have a number of issues.</p>
<p>One is that the data is natively in [0, 360] longitude range and if we project these data to our polar map we lose the western hemisphere.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb67-1" data-line-number="1">rtemp &lt;-<span class="st"> </span><span class="kw">raster</span>(aes_zone, <span class="dt">res =</span> <span class="dv">25000</span>)</a>
<a class="sourceLine" id="cb67-2" data-line-number="2"><span class="kw">plot</span>(<span class="kw">projectRaster</span>(sea_temp, rtemp))</a></code></pre></div>
<pre><code>## Warning in rgdal::rawTransform(projfrom, projto, nrow(xy), xy[, 1], xy[, :
## 53 projected point(s) not finite</code></pre>
<p><img src="polar-mapping_files/figure-html/example-sst-1.png" width="672" /></p>
<p>The solution to <em>that problem</em> is to shift the part of the raster that is over the dateline back to the west</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb69-1" data-line-number="1">sea_temp180 &lt;-<span class="st"> </span>raster<span class="op">::</span><span class="kw">rotate</span>(sea_temp)</a>
<a class="sourceLine" id="cb69-2" data-line-number="2"><span class="kw">plot</span>(<span class="kw">projectRaster</span>(sea_temp180, rtemp))</a></code></pre></div>
<pre><code>## Warning in rgdal::rawTransform(projfrom, projto, nrow(xy), xy[, 1], xy[, :
## 53 projected point(s) not finite</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb71-1" data-line-number="1"><span class="kw">plot</span>(aes_zone, <span class="dt">add =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p><img src="polar-mapping_files/figure-html/example2-sst-1.png" width="672" /></p>
<p>On the face of it this means we now have an easy job, simply project every sea surface temperature raster onto this polar map and then do the extraction.</p>
<p>But, this is going to be slow, it’s a lot of work to reproject 10000+ raster grids, and it inevitably involves resampling (remodelling) of the underlying data, imposing assumptions about what the data means. This is more important for other quantities like wind speeds and water flow directions, but is for the same ultimate reasons.</p>
<div id="overlay-between-different-projections" class="section level2">
<h2><span class="header-section-number">4.1</span> Overlay between different projections</h2>
<p>This is what the overlay process would be like, and we might think we can inverse-transform our polar polygons to this.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" data-line-number="1"><span class="kw">plot</span>(sea_temp180)</a>
<a class="sourceLine" id="cb72-2" data-line-number="2"><span class="kw">plot</span>(aes_zone_ll, <span class="dt">add =</span><span class="ot">TRUE</span>)</a></code></pre></div>
<p><img src="polar-mapping_files/figure-html/native-grid-1.png" width="672" /></p>
<p>But, it doesn’t look good. This is because the polar region that crosses the dateline is a single polygon, but in this projection it must be split in two pieces. This is why there is two objects <code>aes_zone</code> and <code>aes_zone_ll</code>. It can be a bit of work to construct these two versions but in our experience it really made things simpler, there’s simply a one-to-one relationship between the to data sets, one in longitude/latitude, and one in polar map coordinates.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb73-1" data-line-number="1"><span class="kw">plot</span>(sea_temp180)</a>
<a class="sourceLine" id="cb73-2" data-line-number="2"><span class="kw">plot</span>(<span class="kw">spTransform</span>(aes_zone, raster<span class="op">::</span><span class="kw">projection</span>(sea_temp180)), <span class="dt">add =</span><span class="ot">TRUE</span>)</a></code></pre></div>
<p><img src="polar-mapping_files/figure-html/native-grid2-1.png" width="672" /></p>
</div>
<div id="build-an-index-betweeen-the-raw-raster-data-and-the-polar-map-regions" class="section level2">
<h2><span class="header-section-number">4.2</span> Build an index betweeen the raw raster data and the polar map regions</h2>
<p>This is a really powerful trick for processing spatial data in R, and boils down to performing the extraction from the raster data in the native grid.</p>
<p>Every pixel is the sea surface temperature data has a unique relationship with each polygon, it either belongs inside a single polygon or not. So we create this index by <strong>rasterizing</strong> the polygons into the grid. This seems backwards, but it means we now now which polygon every pixel belongs to.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" data-line-number="1">aes_zone_ll<span class="op">$</span>row &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(aes_zone_ll)</a>
<a class="sourceLine" id="cb74-2" data-line-number="2">raster_polys &lt;-<span class="st"> </span>fasterize<span class="op">::</span><span class="kw">fasterize</span>(sf<span class="op">::</span><span class="kw">st_as_sf</span>(aes_zone_ll), sea_temp180, <span class="dt">field =</span> <span class="st">&quot;row&quot;</span>)</a>
<a class="sourceLine" id="cb74-3" data-line-number="3"><span class="kw">plot</span>(raster_polys)</a></code></pre></div>
<p><img src="polar-mapping_files/figure-html/fasterize-1.png" width="672" /></p>
<p>That is all the “geometry lookup” work required done. We can produce an index between raster cell and polygon in a simple table.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb75-1" data-line-number="1">cell &lt;-<span class="st"> </span>tibble<span class="op">::</span><span class="kw">tibble</span>(<span class="dt">polygon =</span> raster<span class="op">::</span><span class="kw">values</span>(raster_polys), <span class="dt">cell =</span> <span class="dv">1</span><span class="op">:</span><span class="kw">ncell</span>(raster_polys))</a>
<a class="sourceLine" id="cb75-2" data-line-number="2">cell</a></code></pre></div>
<pre><code>## # A tibble: 1,036,800 x 2
##    polygon  cell
##      &lt;dbl&gt; &lt;int&gt;
##  1      NA     1
##  2      NA     2
##  3      NA     3
##  4      NA     4
##  5      NA     5
##  6      NA     6
##  7      NA     7
##  8      NA     8
##  9      NA     9
## 10      NA    10
## # … with 1,036,790 more rows</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb77-1" data-line-number="1"><span class="co">## we don&#39;t need very cell, the most southerly region is NA as is anything north of 20S</span></a>
<a class="sourceLine" id="cb77-2" data-line-number="2">cell &lt;-<span class="st"> </span>dplyr<span class="op">::</span><span class="kw">filter</span>(cell, <span class="op">!</span><span class="kw">is.na</span>(polygon))</a>
<a class="sourceLine" id="cb77-3" data-line-number="3">cell</a></code></pre></div>
<pre><code>## # A tibble: 230,383 x 2
##    polygon   cell
##      &lt;dbl&gt;  &lt;int&gt;
##  1      12 691201
##  2      12 691202
##  3      12 691203
##  4      12 691204
##  5      12 691205
##  6      12 691206
##  7      12 691207
##  8      12 691208
##  9      12 691209
## 10      12 691210
## # … with 230,373 more rows</code></pre>
<p>To extract the values for this index we use <code>cell</code> and this takes very little time:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb79-1" data-line-number="1">cell<span class="op">$</span>sst &lt;-<span class="st"> </span>raster<span class="op">::</span><span class="kw">extract</span>(sea_temp180, cell<span class="op">$</span>cell)</a>
<a class="sourceLine" id="cb79-2" data-line-number="2"></a>
<a class="sourceLine" id="cb79-3" data-line-number="3"></a>
<a class="sourceLine" id="cb79-4" data-line-number="4">cell <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">group_by</span>(polygon) <span class="op">%&gt;%</span><span class="st"> </span>dplyr<span class="op">::</span><span class="kw">summarize</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(sst, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), </a>
<a class="sourceLine" id="cb79-5" data-line-number="5">                                                       <span class="dt">sd =</span> <span class="kw">sd</span>(sst, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), </a>
<a class="sourceLine" id="cb79-6" data-line-number="6">                                                       <span class="dt">min =</span> <span class="kw">min</span>(sst, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>), </a>
<a class="sourceLine" id="cb79-7" data-line-number="7">                                                       <span class="dt">max =</span> <span class="kw">max</span>(sst, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</a></code></pre></div>
<pre><code>## # A tibble: 12 x 5
##    polygon   mean     sd    min   max
##      &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
##  1       1  1.01  3.59   -1.80  13.6 
##  2       2 -1.76  0.0760 -1.80  -1.07
##  3       3 13.5   4.36   -1.37  23.3 
##  4       4  0.435 2.10   -1.80   5.09
##  5       5 -1.69  0.114  -1.79  -1.16
##  6       6  9.96  3.82    2.92  19.3 
##  7       7  1.91  3.60   -1.80  15.5 
##  8       8 -1.75  0.0481 -1.80  -1.47
##  9       9 12.2   3.59    1.37  21.1 
## 10      10 -0.440 2.02   -1.80   9.10
## 11      11 -1.76  0.0367 -1.80  -1.48
## 12      12 11.3   4.66   -0.770 22.6</code></pre>
<p>If we ran this using raster directly, it takes quite some time for a single layer and a single statistic, and if we have a lot of time slices it will really add up.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb81-1" data-line-number="1"><span class="kw">system.time</span>(raster<span class="op">::</span><span class="kw">extract</span>(sea_temp180, aes_zone_ll, <span class="dt">fun =</span> mean, <span class="dt">na.rm =</span> <span class="ot">TRUE</span>))</a>
<a class="sourceLine" id="cb81-2" data-line-number="2"><span class="co">##   user  system elapsed </span></a>
<a class="sourceLine" id="cb81-3" data-line-number="3"><span class="co">## 18.331   0.164  18.502 </span></a></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="polar-maps.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="somap.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mdsumner/polar-mapping-oghub/edit/master/03_data-extracting-polar.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
